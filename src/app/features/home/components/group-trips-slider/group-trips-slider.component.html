<section class="group-trips-slider" #sliderContainer>
  <div class="group-trips-slider__container">
    <div class="group-trips-slider__header">
      <h2 class="group-trips-slider__title">{{ config.general.title }}</h2>
      <p class="group-trips-slider__subtitle">{{ config.general.subtitle }}</p>
    </div>

    <ng-container *ngIf="!isLoading(); else loading">
      <div class="group-trips-slider__slider">
        <button class="nav-btn nav-btn--left" type="button" (click)="moverIzquierda()" [disabled]="viajes().length === 0">
          <mat-icon>chevron_left</mat-icon>
        </button>

        <div class="group-trips-slider__viewport" [style.width.px]="viewportWidth()">
          <div
            class="group-trips-slider__track"
            [style.transform]="transformValue"
            [style.width.px]="displayViajes().length * (cardWidth() + currentGap)"
            (mousedown)="onDragStart($event)"
            (touchstart)="onDragStart($event)"
            style="touch-action: pan-y;">
            <article
              class="group-trips-slider__card"
              *ngFor="let viaje of displayViajes(); trackBy: trackByViaje"
              [style.width.px]="cardWidth()"
              (click)="irADetalle(viaje)">
            <div
              class="group-trips-slider__media"
              [style.background-image]="'linear-gradient(180deg, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0.85) 100%), url(' + getCardImage(viaje) + ')'">
              <div class="group-trips-slider__content">
                <p class="group-trips-slider__name">{{ viaje.nombre }}</p>
                <p class="group-trips-slider__description">
                  {{ getCardDescription(viaje) }}
                </p>
                <div class="group-trips-slider__footer">
                  <span class="group-trips-slider__action">
                    <mat-icon>arrow_forward</mat-icon>
                  </span>
                </div>
              </div>
            </div>
            </article>
          </div>
        </div>

        <button class="nav-btn nav-btn--right" type="button" (click)="moverDerecha()" [disabled]="viajes().length === 0">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </ng-container>
  </div>

  <ng-template #loading>
    <div class="group-trips-slider__loading">
      <mat-spinner diameter="40" strokeWidth="3"></mat-spinner>
    </div>
  </ng-template>
</section>
