<section class="trips-slider-section py-12 px-2 lg:py-16 bg-gradient-to-b from-gray-50 to-white" #sliderContainer>
  <div class="container mx-auto px-4">
    <div class="text-center mb-8 lg:mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold text-amber-600 mb-3 lg:mb-4">
      {{ config.general.title }}
    </h2>
      <p class="text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto">
        {{ config.general.subtitle }}
      </p>
    </div>

    @if (isLoading()) {
      <div class="flex justify-center items-center py-12">
        <mat-spinner [diameter]="config.general.loadingSpinner.diameter" [strokeWidth]="config.general.loadingSpinner.strokeWidth"></mat-spinner>
      </div>
    } @else if (displayViajes().length > 0) {
    <div class="trips-slider-cards">
      <button
        (click)="moverIzquierda()"
        class="nav-btn nav-btn--left"
        [attr.aria-label]="config.navigation.leftButtonAriaLabel">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <div class="trips-slider-cards__viewport" [style.width.px]="viewportWidth()">
        <div
          class="trips-slider-cards__track"
          [style.transform]="transformValue"
          [style.width.px]="displayViajes().length * (cardWidth() + currentGap)"
          (mousedown)="onDragStart($event)"
          (touchstart)="onDragStart($event)"
          style="touch-action: pan-y;">
          <article
            class="trips-slider-card"
            *ngFor="let viaje of displayViajes(); trackBy: trackByViaje"
            [style.width.px]="cardWidth()"
            (click)="irADetalle(viaje)">
            <div
              class="trips-slider-card__media"
              [style.background-image]="'linear-gradient(180deg, rgba(0,0,0,0.18) 0%, rgba(0,0,0,0.85) 100%), url(' + getCardImage(viaje) + ')'">
              <div class="trips-slider-card__content">
                <p class="trips-slider-card__name">{{ viaje.nombre }}</p>
                <p class="trips-slider-card__description">
                  {{ getCardDescripcion(viaje) }}
                </p>
                <div class="trips-slider-card__footer">
                  <p class="trips-slider-card__price" *ngIf="viaje.valor">
                    {{ formatPrice(viaje.valor) }}
                  </p>
                  <span class="trips-slider-card__action">
                    <mat-icon>arrow_forward</mat-icon>
                  </span>
                </div>
              </div>
            </div>
          </article>
        </div>
      </div>

      <button
        (click)="moverDerecha()"
        class="nav-btn nav-btn--right"
        [attr.aria-label]="config.navigation.rightButtonAriaLabel">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>
    } @else {
      <div class="text-center py-12">
        <p class="text-gray-600">{{ config.general.emptyState }}</p>
      </div>
    }
  </div>
</section>
